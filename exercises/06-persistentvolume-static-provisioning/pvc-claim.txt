Reserving a PersistentVolume

The control plane can bind PersistentVolumeClaims to matching PersistentVolumes in the cluster.
However, if you want a PVC to bind to a specific PV, you need to pre-bind them.

By specifying a PersistentVolume in a PersistentVolumeClaim, you declare a binding between that specific PV and PVC.
If the PersistentVolume exists and has not reserved PersistentVolumeClaims through its claimRef field, then the
PersistentVolume and PersistentVolumeClaim will be bound.

The binding happens regardless of some volume matching criteria, including node affinity. The control plane still
checks that storage class, access modes, and requested storage size are valid.

  apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: foo-pvc
    namespace: foo
  spec:
    storageClassName: "" # Empty string must be explicitly set otherwise default StorageClass will be set
    volumeName: foo-pv
    ...

This method does not guarantee any binding privileges to the PersistentVolume. If other PersistentVolumeClaims could
use the PV that you specify, you first need to reserve that storage volume. Specify the relevant PersistentVolumeClaim
in the claimRef field of the PV so that other PVCs can not bind to it.

  apiVersion: v1
  kind: PersistentVolume
  metadata:
    name: foo-pv
  spec:
    storageClassName: ""
    claimRef:
      name: foo-pvc
      namespace: foo
    ...

This is useful if you want to consume PersistentVolumes that have their claimPolicy set to Retain, including
cases where you are reusing an existing PV.
